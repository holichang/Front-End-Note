## 第一部分  作用域和闭包

#### 第一章 作用域是什么

##### 1.编译原理：

传统编译语言的流程中：分为三部分：

分词/词法分析（分解成词法单元）——解析/语法分析（词法单元流转化为抽象语法树AST）——代码生成（AST转换为可执行代码）

##### 2.理解作用域：

``` js
var a=2;
```

赋值操作会执行两个动作，首先编译器会在当前作用域中声明一个变量（如果之前没有生命过），然后在运行时引擎会在作用域中查找该变量，如果能够找到就会对它赋值。

引擎查找类型：（赋值操作的左右，不一定是=的左右）

LHS：当变量出现在赋值操作的左侧时进行LHS查询，即试图找到变量的容器本身，从而可以对其赋值

RHS：变量出现在右侧时，RHS查询即简单的查找某个变量的值。（“非左侧”）

##### 3.作用域嵌套

作用域：是根据名称查找变量的一套规则，规定了当前代码对某个变量的使用权限

##### 4.异常

如果RHS查询在所有嵌套的作用域中都遍寻不到所需的变量，引擎就会抛出ReferenceError异常。

如果RHS查询到了一个变量，但你对该值进行了不合理的操作，引擎会抛出TyprError操作。

而LHS查询时，如果在顶层（全局作用域）中也无法找到目标变量，全局作用域中就会创建一个具有该名称的变量，并将其返还给引擎，前提是程序运行在“非严格模式”下。

（严格模式下，LHS查询失败不会创建全局变量，会抛出ReferenceError异常）

#### 第二章，词法作用域

作用域主要有两种工作模型：**词法作用域**（大部分编程语言所采用）和动态作用域

##### 1.词法阶段





